        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>ThreeD Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="styles.css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="favicon.ico">
        
        </head>
        <body data-library="ThreeD">
        <div class="page">
        <div class="header">
          <a href="index.html"><div class="logo"></div></a>
          <a href="index.html">Dart Documentation</a>
         &rsaquo; <a href="ThreeD.html">ThreeD</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
<h2><div class="icon-library"></div><a href="CurveUtils.html">CurveUtils</a></h2><h2><div class="icon-library"></div><a href="FontUtils.html">FontUtils</a></h2><h2><div class="icon-library"></div><a href="GeometryUtils.html">GeometryUtils</a></h2><h2><div class="icon-library"></div><a href="ImageUtils.html">ImageUtils</a></h2><h2><div class="icon-library"></div><a href="SceneUtils.html">SceneUtils</a></h2><h2><div class="icon-library"></div><a href="ShapeUtils.html">ShapeUtils</a></h2><h2><div class="icon-library"></div><strong>ThreeD</strong></h2><ul class="icon">
<li><a href="ThreeD/AmbientLight.html"><div class="icon-class"></div>AmbientLight</a></li>
<li><a href="ThreeD/ArcCurve.html"><div class="icon-class"></div>ArcCurve</a></li>
<li><a href="ThreeD/ArrowHelper.html"><div class="icon-class"></div>ArrowHelper</a></li>
<li><a href="ThreeD/AxisHelper.html"><div class="icon-class"></div>AxisHelper</a></li>
<li><a href="ThreeD/Bone.html"><div class="icon-class"></div>Bone</a></li>
<li><a href="ThreeD/BoundingBox.html"><div class="icon-class"></div>BoundingBox</a></li>
<li><a href="ThreeD/BoundingSphere.html"><div class="icon-class"></div>BoundingSphere</a></li>
<li><a href="ThreeD/Buffer.html"><div class="icon-class"></div>Buffer</a></li>
<li><a href="ThreeD/BufferGeometry.html"><div class="icon-class"></div>BufferGeometry</a></li>
<li><a href="ThreeD/Camera.html"><div class="icon-class"></div>Camera</a></li>
<li><a href="ThreeD/CanvasRenderData.html"><div class="icon-class"></div>CanvasRenderData</a></li>
<li><a href="ThreeD/CanvasRenderer.html"><div class="icon-class"></div>CanvasRenderer</a></li>
<li><a href="ThreeD/CircleGeometry.html"><div class="icon-class"></div>CircleGeometry</a></li>
<li><a href="ThreeD/ClosedSplineCurve3.html"><div class="icon-class"></div>ClosedSplineCurve3</a></li>
<li><a href="ThreeD/Color.html"><div class="icon-class"></div>Color</a></li>
<li><a href="ThreeD/ConvexGeometry.html"><div class="icon-class"></div>ConvexGeometry</a></li>
<li><a href="ThreeD/CubeGeomSides.html"><div class="icon-class"></div>CubeGeomSides</a></li>
<li><a href="ThreeD/CubeGeometry.html"><div class="icon-class"></div>CubeGeometry</a></li>
<li><a href="ThreeD/CubeReflectionMapping.html"><div class="icon-class"></div>CubeReflectionMapping</a></li>
<li><a href="ThreeD/CubeRefractionMapping.html"><div class="icon-class"></div>CubeRefractionMapping</a></li>
<li><a href="ThreeD/CubicBezierCurve.html"><div class="icon-class"></div>CubicBezierCurve</a></li>
<li><a href="ThreeD/CubicBezierCurve3.html"><div class="icon-class"></div>CubicBezierCurve3</a></li>
<li><a href="ThreeD/Curve.html"><div class="icon-class"></div>Curve&lt;V&gt;</a></li>
<li><a href="ThreeD/Curve2D.html"><div class="icon-class"></div>Curve2D</a></li>
<li><a href="ThreeD/Curve3D.html"><div class="icon-class"></div>Curve3D</a></li>
<li><a href="ThreeD/CurvePath.html"><div class="icon-class"></div>CurvePath</a></li>
<li><a href="ThreeD/CylinderGeometry.html"><div class="icon-class"></div>CylinderGeometry</a></li>
<li><a href="ThreeD/DataTexture.html"><div class="icon-class"></div>DataTexture</a></li>
<li><a href="ThreeD/DirectionalLight.html"><div class="icon-class"></div>DirectionalLight</a></li>
<li><a href="ThreeD/EllipseCurve.html"><div class="icon-class"></div>EllipseCurve</a></li>
<li><a href="ThreeD/EventEmitter.html"><div class="icon-class"></div>EventEmitter</a></li>
<li><a href="ThreeD/EventEmitterEvent.html"><div class="icon-class"></div>EventEmitterEvent</a></li>
<li><a href="ThreeD/ExtrudeGeometry.html"><div class="icon-class"></div>ExtrudeGeometry</a></li>
<li><a href="ThreeD/ExtrudeGeometryWorldUVGenerator.html"><div class="icon-class"></div>ExtrudeGeometryWorldUVGenerator</a></li>
<li><a href="ThreeD/Face3.html"><div class="icon-class"></div>Face3</a></li>
<li><a href="ThreeD/Face4.html"><div class="icon-class"></div>Face4</a></li>
<li><a href="ThreeD/Fog.html"><div class="icon-class"></div>Fog</a></li>
<li><a href="ThreeD/FogExp2.html"><div class="icon-class"></div>FogExp2</a></li>
<li><a href="ThreeD/FogLinear.html"><div class="icon-class"></div>FogLinear</a></li>
<li><a href="ThreeD/Frustum.html"><div class="icon-class"></div>Frustum</a></li>
<li><a href="ThreeD/Geometry.html"><div class="icon-class"></div>Geometry</a></li>
<li><a href="ThreeD/IFace3.html"><div class="icon-interface"></div>IFace3</a></li>
<li><a href="ThreeD/IFace4.html"><div class="icon-interface"></div>IFace4</a></li>
<li><a href="ThreeD/IMaterial.html"><div class="icon-interface"></div>IMaterial</a></li>
<li><a href="ThreeD/IParticleMaterial.html"><div class="icon-interface"></div>IParticleMaterial</a></li>
<li><a href="ThreeD/IRenderableFace3.html"><div class="icon-interface"></div>IRenderableFace3</a></li>
<li><a href="ThreeD/IRenderableFace4.html"><div class="icon-interface"></div>IRenderableFace4</a></li>
<li><a href="ThreeD/IRenderableObj.html"><div class="icon-interface"></div>IRenderableObj</a></li>
<li><a href="ThreeD/ITextureMapMaterial.html"><div class="icon-interface"></div>ITextureMapMaterial</a></li>
<li><a href="ThreeD/IVector2.html"><div class="icon-interface"></div>IVector2</a></li>
<li><a href="ThreeD/IVector3.html"><div class="icon-interface"></div>IVector3</a></li>
<li><a href="ThreeD/IVector4.html"><div class="icon-interface"></div>IVector4</a></li>
<li><a href="ThreeD/IcosahedronGeometry.html"><div class="icon-class"></div>IcosahedronGeometry</a></li>
<li><a href="ThreeD/ImageLoader.html"><div class="icon-class"></div>ImageLoader</a></li>
<li><a href="ThreeD/ImmediateRenderObject.html"><div class="icon-class"></div>ImmediateRenderObject</a></li>
<li><a href="ThreeD/Intersect.html"><div class="icon-class"></div>Intersect</a></li>
<li><a href="ThreeD/JSONLoader.html"><div class="icon-class"></div>JSONLoader</a></li>
<li><a href="ThreeD/LOD.html"><div class="icon-class"></div>LOD</a></li>
<li><a href="ThreeD/LatheGeometry.html"><div class="icon-class"></div>LatheGeometry</a></li>
<li><a href="ThreeD/LensFlare.html"><div class="icon-class"></div>LensFlare</a></li>
<li><a href="ThreeD/Light.html"><div class="icon-class"></div>Light</a></li>
<li><a href="ThreeD/Line.html"><div class="icon-class"></div>Line</a></li>
<li><a href="ThreeD/LineBasicMaterial.html"><div class="icon-class"></div>LineBasicMaterial</a></li>
<li><a href="ThreeD/LineCurve.html"><div class="icon-class"></div>LineCurve</a></li>
<li><a href="ThreeD/LineCurve3.html"><div class="icon-class"></div>LineCurve3</a></li>
<li><a href="ThreeD/LoadCompleteCallback.html"><div class="icon-interface"></div>LoadCompleteCallback</a></li>
<li><a href="ThreeD/LoadProgressCallback.html"><div class="icon-interface"></div>LoadProgressCallback</a></li>
<li><a href="ThreeD/LoadStartCallback.html"><div class="icon-interface"></div>LoadStartCallback</a></li>
<li><a href="ThreeD/LoadedCallback.html"><div class="icon-interface"></div>LoadedCallback</a></li>
<li><a href="ThreeD/Loader.html"><div class="icon-class"></div>Loader</a></li>
<li><a href="ThreeD/Material.html"><div class="icon-class"></div>Material</a></li>
<li><a href="ThreeD/Matrix3.html"><div class="icon-class"></div>Matrix3</a></li>
<li><a href="ThreeD/Matrix4.html"><div class="icon-class"></div>Matrix4</a></li>
<li><a href="ThreeD/Mesh.html"><div class="icon-class"></div>Mesh</a></li>
<li><a href="ThreeD/MeshBasicMaterial.html"><div class="icon-class"></div>MeshBasicMaterial</a></li>
<li><a href="ThreeD/MeshDepthMaterial.html"><div class="icon-class"></div>MeshDepthMaterial</a></li>
<li><a href="ThreeD/MeshFaceMaterial.html"><div class="icon-class"></div>MeshFaceMaterial</a></li>
<li><a href="ThreeD/MeshLambertMaterial.html"><div class="icon-class"></div>MeshLambertMaterial</a></li>
<li><a href="ThreeD/MeshNormalMaterial.html"><div class="icon-class"></div>MeshNormalMaterial</a></li>
<li><a href="ThreeD/MeshPhongMaterial.html"><div class="icon-class"></div>MeshPhongMaterial</a></li>
<li><a href="ThreeD/MorphAnimMesh.html"><div class="icon-class"></div>MorphAnimMesh</a></li>
<li><a href="ThreeD/Object3D.html"><div class="icon-class"></div>Object3D</a></li>
<li><a href="ThreeD/OctahedronGeometry.html"><div class="icon-class"></div>OctahedronGeometry</a></li>
<li><a href="ThreeD/OrthographicCamera.html"><div class="icon-class"></div>OrthographicCamera</a></li>
<li><a href="ThreeD/ParametricGeometry.html"><div class="icon-class"></div>ParametricGeometry</a></li>
<li><a href="ThreeD/Particle.html"><div class="icon-class"></div>Particle</a></li>
<li><a href="ThreeD/ParticleBasicMaterial.html"><div class="icon-class"></div>ParticleBasicMaterial</a></li>
<li><a href="ThreeD/ParticleCanvasMaterial.html"><div class="icon-class"></div>ParticleCanvasMaterial</a></li>
<li><a href="ThreeD/ParticleCanvasMaterialProgram.html"><div class="icon-interface"></div>ParticleCanvasMaterialProgram</a></li>
<li><a href="ThreeD/ParticleSystem.html"><div class="icon-class"></div>ParticleSystem</a></li>
<li><a href="ThreeD/Path.html"><div class="icon-class"></div>Path</a></li>
<li><a href="ThreeD/PathAction.html"><div class="icon-class"></div>PathAction</a></li>
<li><a href="ThreeD/PerspectiveCamera.html"><div class="icon-class"></div>PerspectiveCamera</a></li>
<li><a href="ThreeD/PlaneGeometry.html"><div class="icon-class"></div>PlaneGeometry</a></li>
<li><a href="ThreeD/PointLight.html"><div class="icon-class"></div>PointLight</a></li>
<li><a href="ThreeD/PolyhedronGeometry.html"><div class="icon-class"></div>PolyhedronGeometry</a></li>
<li><a href="ThreeD/PolyhedronGeometryVertex.html"><div class="icon-class"></div>PolyhedronGeometryVertex</a></li>
<li><a href="ThreeD/Program.html"><div class="icon-class"></div>Program</a></li>
<li><a href="ThreeD/Projector.html"><div class="icon-class"></div>Projector</a></li>
<li><a href="ThreeD/ProjectorRenderData.html"><div class="icon-class"></div>ProjectorRenderData</a></li>
<li><a href="ThreeD/QuadraticBezierCurve.html"><div class="icon-class"></div>QuadraticBezierCurve</a></li>
<li><a href="ThreeD/QuadraticBezierCurve3.html"><div class="icon-class"></div>QuadraticBezierCurve3</a></li>
<li><a href="ThreeD/Quaternion.html"><div class="icon-class"></div>Quaternion</a></li>
<li><a href="ThreeD/Ray.html"><div class="icon-class"></div>Ray</a></li>
<li><a href="ThreeD/Rectangle.html"><div class="icon-class"></div>Rectangle</a></li>
<li><a href="ThreeD/RenderInts.html"><div class="icon-class"></div>RenderInts</a></li>
<li><a href="ThreeD/RenderableFace3.html"><div class="icon-class"></div>RenderableFace3</a></li>
<li><a href="ThreeD/RenderableFace4.html"><div class="icon-class"></div>RenderableFace4</a></li>
<li><a href="ThreeD/RenderableLine.html"><div class="icon-class"></div>RenderableLine</a></li>
<li><a href="ThreeD/RenderableObject.html"><div class="icon-class"></div>RenderableObject</a></li>
<li><a href="ThreeD/RenderableParticle.html"><div class="icon-class"></div>RenderableParticle</a></li>
<li><a href="ThreeD/RenderableVertex.html"><div class="icon-class"></div>RenderableVertex</a></li>
<li><a href="ThreeD/Renderer.html"><div class="icon-class"></div>Renderer</a></li>
<li><a href="ThreeD/Ribbon.html"><div class="icon-class"></div>Ribbon</a></li>
<li><a href="ThreeD/Scene.html"><div class="icon-class"></div>Scene</a></li>
<li><a href="ThreeD/ShaderMaterial.html"><div class="icon-class"></div>ShaderMaterial</a></li>
<li><a href="ThreeD/Shape.html"><div class="icon-class"></div>Shape</a></li>
<li><a href="ThreeD/SkinnedMesh.html"><div class="icon-class"></div>SkinnedMesh</a></li>
<li><a href="ThreeD/SphereGeometry.html"><div class="icon-class"></div>SphereGeometry</a></li>
<li><a href="ThreeD/SphericalReflectionMapping.html"><div class="icon-class"></div>SphericalReflectionMapping</a></li>
<li><a href="ThreeD/SphericalRefractionMapping.html"><div class="icon-class"></div>SphericalRefractionMapping</a></li>
<li><a href="ThreeD/SplineCurve.html"><div class="icon-class"></div>SplineCurve</a></li>
<li><a href="ThreeD/SplineCurve3.html"><div class="icon-class"></div>SplineCurve3</a></li>
<li><a href="ThreeD/SpotLight.html"><div class="icon-class"></div>SpotLight</a></li>
<li><a href="ThreeD/Sprite.html"><div class="icon-class"></div>Sprite</a></li>
<li><a href="ThreeD/SpriteAlignment.html"><div class="icon-class"></div>SpriteAlignment</a></li>
<li><a href="ThreeD/TetrahedronGeometry.html"><div class="icon-class"></div>TetrahedronGeometry</a></li>
<li><a href="ThreeD/TextGeometry.html"><div class="icon-class"></div>TextGeometry</a></li>
<li><a href="ThreeD/Texture.html"><div class="icon-class"></div>Texture</a></li>
<li><a href="ThreeD/Three.html"><div class="icon-class"></div>Three</a></li>
<li><a href="ThreeD/TorusGeometry.html"><div class="icon-class"></div>TorusGeometry</a></li>
<li><a href="ThreeD/TorusKnotGeometry.html"><div class="icon-class"></div>TorusKnotGeometry</a></li>
<li><a href="ThreeD/TubeGeometry.html"><div class="icon-class"></div>TubeGeometry</a></li>
<li><a href="ThreeD/UV.html"><div class="icon-class"></div>UV</a></li>
<li><a href="ThreeD/UVMapping.html"><div class="icon-class"></div>UVMapping</a></li>
<li><a href="ThreeD/Uniform.html"><div class="icon-class"></div>Uniform</a></li>
<li><a href="ThreeD/UniformsUtils.html"><div class="icon-class"></div>UniformsUtils</a></li>
<li><a href="ThreeD/Vector2.html"><div class="icon-class"></div>Vector2</a></li>
<li><a href="ThreeD/Vector3.html"><div class="icon-class"></div>Vector3</a></li>
<li><a href="ThreeD/Vector4.html"><div class="icon-class"></div>Vector4</a></li>
<li><a href="ThreeD/Vertex.html"><div class="icon-class"></div>Vertex</a></li>
<li><a href="ThreeD/WebGLCamera.html"><div class="icon-class"></div>WebGLCamera</a></li>
<li><a href="ThreeD/WebGLGeometry.html"><div class="icon-class"></div>WebGLGeometry</a></li>
<li><a href="ThreeD/WebGLMaterial.html"><div class="icon-class"></div>WebGLMaterial</a></li>
<li><a href="ThreeD/WebGLObject.html"><div class="icon-class"></div>WebGLObject</a></li>
<li><a href="ThreeD/WebGLRenderTarget.html"><div class="icon-class"></div>WebGLRenderTarget</a></li>
<li><a href="ThreeD/WebGLRenderTargetCube.html"><div class="icon-class"></div>WebGLRenderTargetCube</a></li>
<li><a href="ThreeD/WebGLRenderer.html"><div class="icon-class"></div>WebGLRenderer</a></li>
<li><a href="ThreeD/WebGLRendererInfo.html"><div class="icon-class"></div>WebGLRendererInfo</a></li>
<li><a href="ThreeD/WebGLRendererMemoryInfo.html"><div class="icon-class"></div>WebGLRendererMemoryInfo</a></li>
<li><a href="ThreeD/WebGLRendererRenderInfo.html"><div class="icon-class"></div>WebGLRendererRenderInfo</a></li>
</ul>
<h2><div class="icon-library"></div><a href="ThreeMath.html">ThreeMath</a></h2></div>
<div class="content">
<h2><strong>ThreeD</strong> library</h2>
<div class="doc"></div>
<h3>Methods</h3>
<div class="method"><h4 id="ShaderChunk">
<span class="show-code">Code</span>
<strong>get ShaderChunk</strong>() <a class="anchor-link" href="#ShaderChunk"
              title="Permalink to get ShaderChunk">#</a></h4>
<div class="doc">

<pre class="source">
get ShaderChunk  {
  if (__ShaderChunk == null) {
    __ShaderChunk = {
// FOG

  "fog_pars_fragment": Strings.join([

    "#ifdef USE_FOG",

      "uniform vec3 fogColor;",

      "#ifdef FOG_EXP2",

        "uniform float fogDensity;",

      "#else",

        "uniform float fogNear;",
        "uniform float fogFar;",

      "#endif",

    "#endif"

  ],"\n"),

  "fog_fragment": Strings.join([

    "#ifdef USE_FOG",

      "float depth = gl_FragCoord.z / gl_FragCoord.w;",

      "#ifdef FOG_EXP2",

        "const float LOG2 = 1.442695;",
        "float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );",
        "fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );",

      "#else",

        "float fogFactor = smoothstep( fogNear, fogFar, depth );",

      "#endif",

      "gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );",

    "#endif"

  ],"\n"),

  // ENVIRONMENT MAP

  "envmap_pars_fragment": Strings.join([

    "#ifdef USE_ENVMAP",

      "uniform float reflectivity;",
      "uniform samplerCube envMap;",
      "uniform float flipEnvMap;",
      "uniform int combine;",

      "#ifdef USE_BUMPMAP",

        "uniform bool useRefract;",
        "uniform float refractionRatio;",

      "#else",

        "varying vec3 vReflect;",

      "#endif",

    "#endif"

  ],"\n"),

  "envmap_fragment": Strings.join([

    "#ifdef USE_ENVMAP",

      "vec3 reflectVec;",

      "#ifdef USE_BUMPMAP",

        "vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );",

        "if ( useRefract ) {",

          "reflectVec = refract( cameraToVertex, normal, refractionRatio );",

        "} else { ",

          "reflectVec = reflect( cameraToVertex, normal );",

        "}",

      "#else",

        "reflectVec = vReflect;",

      "#endif",

      "#ifdef DOUBLE_SIDED",

        "float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );",
        "vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );",

      "#else",

        "vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );",

      "#endif",

      "#ifdef GAMMA_INPUT",

        "cubeColor.xyz *= cubeColor.xyz;",

      "#endif",

      "if ( combine == 1 ) {",

        "gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );",

      "} else {",

        "gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );",

      "}",

    "#endif"

  ],"\n"),

  "envmap_pars_vertex": Strings.join([

    "#if defined( USE_ENVMAP ) &amp;&amp; ! defined( USE_BUMPMAP )",

      "varying vec3 vReflect;",

      "uniform float refractionRatio;",
      "uniform bool useRefract;",

    "#endif"

  ],"\n"),

  "envmap_vertex" : Strings.join([

    "#ifdef USE_ENVMAP",

      "vec4 mPosition = modelMatrix * vec4( position, 1.0 );",

    "#endif",

    "#if defined( USE_ENVMAP ) &amp;&amp; ! defined( USE_BUMPMAP )",

      "vec3 nWorld = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * normal;",

      "if ( useRefract ) {",

        "vReflect = refract( normalize( mPosition.xyz - cameraPosition ), normalize( nWorld.xyz ), refractionRatio );",

      "} else {",

        "vReflect = reflect( normalize( mPosition.xyz - cameraPosition ), normalize( nWorld.xyz ) );",

      "}",

    "#endif"

  ], "\n"),

  // COLOR MAP (particles)

  "map_particle_pars_fragment": Strings.join([

    "#ifdef USE_MAP",

      "uniform sampler2D map;",

    "#endif"

  ],"\n"),


  "map_particle_fragment": Strings.join([

    "#ifdef USE_MAP",

      "gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );",

    "#endif"

  ],"\n"),

  // COLOR MAP (triangles)

  "map_pars_vertex": Strings.join([

    "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_SPECULARMAP )",

      "varying vec2 vUv;",
      "uniform vec4 offsetRepeat;",

    "#endif"

  ],"\n"),

  "map_pars_fragment": Strings.join([

    "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_SPECULARMAP )",

      "varying vec2 vUv;",

    "#endif",

    "#ifdef USE_MAP",

      "uniform sampler2D map;",

    "#endif",

  ],"\n"),

  "map_vertex": Strings.join([

    "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_SPECULARMAP )",

      "vUv = uv * offsetRepeat.zw + offsetRepeat.xy;",

    "#endif"

  ],"\n"),

  "map_fragment": Strings.join([

    "#ifdef USE_MAP",

      "#ifdef GAMMA_INPUT",

        "vec4 texelColor = texture2D( map, vUv );",
        "texelColor.xyz *= texelColor.xyz;",

        "gl_FragColor = gl_FragColor * texelColor;",

      "#else",

        "gl_FragColor = gl_FragColor * texture2D( map, vUv );",

      "#endif",

    "#endif"

  ],"\n"),

  // LIGHT MAP

  "lightmap_pars_fragment": Strings.join([

    "#ifdef USE_LIGHTMAP",

      "varying vec2 vUv2;",
      "uniform sampler2D lightMap;",

    "#endif"

  ],"\n"),

  "lightmap_pars_vertex": Strings.join([

    "#ifdef USE_LIGHTMAP",

      "varying vec2 vUv2;",

    "#endif"

  ],"\n"),

  "lightmap_fragment": Strings.join([

    "#ifdef USE_LIGHTMAP",

      "gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );",

    "#endif"

  ],"\n"),

  "lightmap_vertex": Strings.join([

    "#ifdef USE_LIGHTMAP",

      "vUv2 = uv2;",

    "#endif"

  ],"\n"),

  // BUMP MAP

  "bumpmap_pars_fragment": Strings.join([

    "#ifdef USE_BUMPMAP",

      "uniform sampler2D bumpMap;",
      "uniform float bumpScale;",

      // Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen
      //  http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html

      // Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)

      "vec2 dHdxy_fwd() {",

        "vec2 dSTdx = dFdx( vUv );",
        "vec2 dSTdy = dFdy( vUv );",

        "float Hll = bumpScale * texture2D( bumpMap, vUv ).x;",
        "float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;",
        "float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;",

        "return vec2( dBx, dBy );",

      "}",

      "vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {",

        "vec3 vSigmaX = dFdx( surf_pos );",
        "vec3 vSigmaY = dFdy( surf_pos );",
        "vec3 vN = surf_norm;",   // normalized

        "vec3 R1 = cross( vSigmaY, vN );",
        "vec3 R2 = cross( vN, vSigmaX );",

        "float fDet = dot( vSigmaX, R1 );",

        "vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );",
        "return normalize( abs( fDet ) * surf_norm - vGrad );",

      "}",

    "#endif"

  ],"\n"),

  // SPECULAR MAP

  "specularmap_pars_fragment": Strings.join([

    "#ifdef USE_SPECULARMAP",

      "uniform sampler2D specularMap;",

    "#endif"

  ],"\n"),

  "specularmap_fragment": Strings.join([

    "float specularStrength;",

    "#ifdef USE_SPECULARMAP",

      "vec4 texelSpecular = texture2D( specularMap, vUv );",
      "specularStrength = texelSpecular.r;",

    "#else",

      "specularStrength = 1.0;",

    "#endif"

  ],"\n"),

  // LIGHTS LAMBERT

  "lights_lambert_pars_vertex": Strings.join([

    "uniform vec3 ambient;",
    "uniform vec3 diffuse;",
    "uniform vec3 emissive;",

    "uniform vec3 ambientLightColor;",

    "#if MAX_DIR_LIGHTS &gt; 0",

      "uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];",
      "uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];",

    "#endif",

    "#if MAX_POINT_LIGHTS &gt; 0",

      "uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];",
      "uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];",
      "uniform float pointLightDistance[ MAX_POINT_LIGHTS ];",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0",

      "uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];",
      "uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];",
      "uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];",
      "uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];",
      "uniform float spotLightAngle[ MAX_SPOT_LIGHTS ];",
      "uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];",

    "#endif",

    "#ifdef WRAP_AROUND",

      "uniform vec3 wrapRGB;",

    "#endif"

  ],"\n"),

  "lights_lambert_vertex": Strings.join([

    "vLightFront = vec3( 0.0 );",

    "#ifdef DOUBLE_SIDED",

      "vLightBack = vec3( 0.0 );",

    "#endif",

    "transformedNormal = normalize( transformedNormal );",

    "#if MAX_DIR_LIGHTS &gt; 0",

    "for( int i = 0; i &lt; MAX_DIR_LIGHTS; i ++ ) {",

      "vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );",
      "vec3 dirVector = normalize( lDirection.xyz );",

      "float dotProduct = dot( transformedNormal, dirVector );",
      "vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );",

      "#ifdef DOUBLE_SIDED",

        "vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );",

        "#ifdef WRAP_AROUND",

          "vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );",

        "#endif",

      "#endif",

      "#ifdef WRAP_AROUND",

        "vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );",
        "directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );",

        "#ifdef DOUBLE_SIDED",

          "directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );",

        "#endif",

      "#endif",

      "vLightFront += directionalLightColor[ i ] * directionalLightWeighting;",

      "#ifdef DOUBLE_SIDED",

        "vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;",

      "#endif",

    "}",

    "#endif",

    "#if MAX_POINT_LIGHTS &gt; 0",

      "for( int i = 0; i &lt; MAX_POINT_LIGHTS; i ++ ) {",

        "vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );",
        "vec3 lVector = lPosition.xyz - mvPosition.xyz;",

        "float lDistance = 1.0;",
        "if ( pointLightDistance[ i ] &gt; 0.0 )",
          "lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );",

        "lVector = normalize( lVector );",
        "float dotProduct = dot( transformedNormal, lVector );",

        "vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );",

        "#ifdef DOUBLE_SIDED",

          "vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );",

          "#ifdef WRAP_AROUND",

            "vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );",

          "#endif",

        "#endif",

        "#ifdef WRAP_AROUND",

          "vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );",
          "pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );",

          "#ifdef DOUBLE_SIDED",

            "pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );",

          "#endif",

        "#endif",

        "vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;",

        "#ifdef DOUBLE_SIDED",

          "vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;",

        "#endif",

      "}",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0",

      "for( int i = 0; i &lt; MAX_SPOT_LIGHTS; i ++ ) {",

        "vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );",
        "vec3 lVector = lPosition.xyz - mvPosition.xyz;",

        "lVector = normalize( lVector );",

        "float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - mPosition.xyz ) );",

        "if ( spotEffect &gt; spotLightAngle[ i ] ) {",

          "spotEffect = pow( spotEffect, spotLightExponent[ i ] );",

          "float lDistance = 1.0;",
          "if ( spotLightDistance[ i ] &gt; 0.0 )",
            "lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );",

          "float dotProduct = dot( transformedNormal, lVector );",
          "vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );",

          "#ifdef DOUBLE_SIDED",

            "vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );",

            "#ifdef WRAP_AROUND",

              "vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );",

            "#endif",

          "#endif",

          "#ifdef WRAP_AROUND",

            "vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );",
            "spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );",

            "#ifdef DOUBLE_SIDED",

              "spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );",

            "#endif",

          "#endif",

          "vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;",

          "#ifdef DOUBLE_SIDED",

            "vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;",

          "#endif",

        "}",

      "}",

    "#endif",

    "vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;",

    "#ifdef DOUBLE_SIDED",

      "vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;",

    "#endif"

  ],"\n"),

  // LIGHTS PHONG

  "lights_phong_pars_vertex": Strings.join([

    "#ifndef PHONG_PER_PIXEL",

    "#if MAX_POINT_LIGHTS &gt; 0",

      "uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];",
      "uniform float pointLightDistance[ MAX_POINT_LIGHTS ];",

      "varying vec4 vPointLight[ MAX_POINT_LIGHTS ];",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0",

      "uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];",
      "uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];",

      "varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];",

    "#endif",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0 || defined( USE_BUMPMAP )",

      "varying vec3 vWorldPosition;",

    "#endif"

  ],"\n"),


  "lights_phong_vertex": Strings.join([

    "#ifndef PHONG_PER_PIXEL",

    "#if MAX_POINT_LIGHTS &gt; 0",

      "for( int i = 0; i &lt; MAX_POINT_LIGHTS; i ++ ) {",

        "vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );",
        "vec3 lVector = lPosition.xyz - mvPosition.xyz;",

        "float lDistance = 1.0;",
        "if ( pointLightDistance[ i ] &gt; 0.0 )",
          "lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );",

        "vPointLight[ i ] = vec4( lVector, lDistance );",

      "}",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0",

      "for( int i = 0; i &lt; MAX_SPOT_LIGHTS; i ++ ) {",

        "vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );",
        "vec3 lVector = lPosition.xyz - mvPosition.xyz;",

        "float lDistance = 1.0;",
        "if ( spotLightDistance[ i ] &gt; 0.0 )",
          "lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );",

        "vSpotLight[ i ] = vec4( lVector, lDistance );",

      "}",

    "#endif",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0 || defined( USE_BUMPMAP )",

      "vWorldPosition = mPosition.xyz;",

    "#endif"

  ],"\n"),

  "lights_phong_pars_fragment": Strings.join([

    "uniform vec3 ambientLightColor;",

    "#if MAX_DIR_LIGHTS &gt; 0",

      "uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];",
      "uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];",

    "#endif",

    "#if MAX_POINT_LIGHTS &gt; 0",

      "uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];",

      "#ifdef PHONG_PER_PIXEL",

        "uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];",
        "uniform float pointLightDistance[ MAX_POINT_LIGHTS ];",

      "#else",

        "varying vec4 vPointLight[ MAX_POINT_LIGHTS ];",

      "#endif",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0",

      "uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];",
      "uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];",
      "uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];",
      "uniform float spotLightAngle[ MAX_SPOT_LIGHTS ];",
      "uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];",

      "#ifdef PHONG_PER_PIXEL",

        "uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];",

      "#else",

        "varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];",

      "#endif",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0 || defined( USE_BUMPMAP )",

      "varying vec3 vWorldPosition;",

    "#endif",

    "#ifdef WRAP_AROUND",

      "uniform vec3 wrapRGB;",

    "#endif",

    "varying vec3 vViewPosition;",
    "varying vec3 vNormal;"

  ],"\n"),

  "lights_phong_fragment": Strings.join([

    "vec3 normal = normalize( vNormal );",
    "vec3 viewPosition = normalize( vViewPosition );",

    "#ifdef DOUBLE_SIDED",

      "normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );",

    "#endif",

    "#ifdef USE_BUMPMAP",

      "normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );",

    "#endif",

    "#if MAX_POINT_LIGHTS &gt; 0",

      "vec3 pointDiffuse  = vec3( 0.0 );",
      "vec3 pointSpecular = vec3( 0.0 );",

      "for ( int i = 0; i &lt; MAX_POINT_LIGHTS; i ++ ) {",

        "#ifdef PHONG_PER_PIXEL",

          "vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );",
          "vec3 lVector = lPosition.xyz + vViewPosition.xyz;",

          "float lDistance = 1.0;",
          "if ( pointLightDistance[ i ] &gt; 0.0 )",
            "lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );",

          "lVector = normalize( lVector );",

        "#else",

          "vec3 lVector = normalize( vPointLight[ i ].xyz );",
          "float lDistance = vPointLight[ i ].w;",

        "#endif",

        // diffuse

        "float dotProduct = dot( normal, lVector );",

        "#ifdef WRAP_AROUND",

          "float pointDiffuseWeightFull = max( dotProduct, 0.0 );",
          "float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );",

          "vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );",

        "#else",

          "float pointDiffuseWeight = max( dotProduct, 0.0 );",

        "#endif",

        "pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;",

        // specular

        "vec3 pointHalfVector = normalize( lVector + viewPosition );",
        "float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );",
        "float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );",

        "#ifdef PHYSICALLY_BASED_SHADING",

          // 2.0 =&gt; 2.0001 is hack to work around ANGLE bug

          "float specularNormalization = ( shininess + 2.0001 ) / 8.0;",

          "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );",
          "pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;",

        "#else",

          "pointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;",

        "#endif",

      "}",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0",

      "vec3 spotDiffuse  = vec3( 0.0 );",
      "vec3 spotSpecular = vec3( 0.0 );",

      "for ( int i = 0; i &lt; MAX_SPOT_LIGHTS; i ++ ) {",

        "#ifdef PHONG_PER_PIXEL",

          "vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );",
          "vec3 lVector = lPosition.xyz + vViewPosition.xyz;",

          "float lDistance = 1.0;",
          "if ( spotLightDistance[ i ] &gt; 0.0 )",
            "lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );",

          "lVector = normalize( lVector );",

        "#else",

          "vec3 lVector = normalize( vSpotLight[ i ].xyz );",
          "float lDistance = vSpotLight[ i ].w;",

        "#endif",

        "float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );",

        "if ( spotEffect &gt; spotLightAngle[ i ] ) {",

          "spotEffect = pow( spotEffect, spotLightExponent[ i ] );",

          // diffuse

          "float dotProduct = dot( normal, lVector );",

          "#ifdef WRAP_AROUND",

            "float spotDiffuseWeightFull = max( dotProduct, 0.0 );",
            "float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );",

            "vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );",

          "#else",

            "float spotDiffuseWeight = max( dotProduct, 0.0 );",

          "#endif",

          "spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;",

          // specular

          "vec3 spotHalfVector = normalize( lVector + viewPosition );",
          "float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );",
          "float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );",

          "#ifdef PHYSICALLY_BASED_SHADING",

            // 2.0 =&gt; 2.0001 is hack to work around ANGLE bug

            "float specularNormalization = ( shininess + 2.0001 ) / 8.0;",

            "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );",
            "spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;",

          "#else",

            "spotSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;",

          "#endif",

        "}",

      "}",

    "#endif",

    "#if MAX_DIR_LIGHTS &gt; 0",

      "vec3 dirDiffuse  = vec3( 0.0 );",
      "vec3 dirSpecular = vec3( 0.0 );" ,

      "for( int i = 0; i &lt; MAX_DIR_LIGHTS; i ++ ) {",

        "vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );",
        "vec3 dirVector = normalize( lDirection.xyz );",

        // diffuse

        "float dotProduct = dot( normal, dirVector );",

        "#ifdef WRAP_AROUND",

          "float dirDiffuseWeightFull = max( dotProduct, 0.0 );",
          "float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );",

          "vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );",

        "#else",

          "float dirDiffuseWeight = max( dotProduct, 0.0 );",

        "#endif",

        "dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;",

        // specular

        "vec3 dirHalfVector = normalize( dirVector + viewPosition );",
        "float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );",
        "float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );",

        "#ifdef PHYSICALLY_BASED_SHADING",

          /*
          // fresnel term from skin shader
          "const float F0 = 0.128;",

          "float base = 1.0 - dot( viewPosition, dirHalfVector );",
          "float exponential = pow( base, 5.0 );",

          "float fresnel = exponential + F0 * ( 1.0 - exponential );",
          */

          /*
          // fresnel term from fresnel shader
          "const float mFresnelBias = 0.08;",
          "const float mFresnelScale = 0.3;",
          "const float mFresnelPower = 5.0;",

          "float fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );",
          */

          // 2.0 =&gt; 2.0001 is hack to work around ANGLE bug

          "float specularNormalization = ( shininess + 2.0001 ) / 8.0;",

          //"dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;",

          "vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );",
          "dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;",

        "#else",

          "dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;",

        "#endif",

      "}",

    "#endif",

    "vec3 totalDiffuse = vec3( 0.0 );",
    "vec3 totalSpecular = vec3( 0.0 );",

    "#if MAX_DIR_LIGHTS &gt; 0",

      "totalDiffuse += dirDiffuse;",
      "totalSpecular += dirSpecular;",

    "#endif",

    "#if MAX_POINT_LIGHTS &gt; 0",

      "totalDiffuse += pointDiffuse;",
      "totalSpecular += pointSpecular;",

    "#endif",

    "#if MAX_SPOT_LIGHTS &gt; 0",

      "totalDiffuse += spotDiffuse;",
      "totalSpecular += spotSpecular;",

    "#endif",

    "#ifdef METAL",

      "gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );",

    "#else",

      "gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;",

    "#endif"

  ], "\n"),

  // VERTEX COLORS

  "color_pars_fragment": Strings.join([

    "#ifdef USE_COLOR",

      "varying vec3 vColor;",

    "#endif"

  ],"\n"),


  "color_fragment": Strings.join([

    "#ifdef USE_COLOR",

      "gl_FragColor = gl_FragColor * vec4( vColor, opacity );",

    "#endif"

  ],"\n"),

  "color_pars_vertex": Strings.join([

    "#ifdef USE_COLOR",

      "varying vec3 vColor;",

    "#endif"

  ],"\n"),


  "color_vertex": Strings.join([

    "#ifdef USE_COLOR",

      "#ifdef GAMMA_INPUT",

        "vColor = color * color;",

      "#else",

        "vColor = color;",

      "#endif",

    "#endif"

  ],"\n"),

  // SKINNING

  "skinning_pars_vertex": Strings.join([

    "#ifdef USE_SKINNING",

      "#ifdef BONE_TEXTURE",

        "uniform sampler2D boneTexture;",

        "mat4 getBoneMatrix( const in float i ) {",

          "float j = i * 4.0;",
          "float x = mod( j, N_BONE_PIXEL_X );",
          "float y = floor( j / N_BONE_PIXEL_X );",

          "const float dx = 1.0 / N_BONE_PIXEL_X;",
          "const float dy = 1.0 / N_BONE_PIXEL_Y;",

          "y = dy * ( y + 0.5 );",

          "vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );",
          "vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );",
          "vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );",
          "vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );",

          "mat4 bone = mat4( v1, v2, v3, v4 );",

          "return bone;",

        "}",

      "#else",

        "uniform mat4 boneGlobalMatrices[ MAX_BONES ];",

        "mat4 getBoneMatrix( const in float i ) {",

          "mat4 bone = boneGlobalMatrices[ int(i) ];",
          "return bone;",

        "}",

      "#endif",

    "#endif"

  ], "\n"),

  "skinbase_vertex": Strings.join([

    "#ifdef USE_SKINNING",

      "mat4 boneMatX = getBoneMatrix( skinIndex.x );",
      "mat4 boneMatY = getBoneMatrix( skinIndex.y );",

    "#endif"

  ],"\n"),

  "skinning_vertex": Strings.join([

    "#ifdef USE_SKINNING",

      "vec4 skinned  = boneMatX * skinVertexA * skinWeight.x;",
      "skinned    += boneMatY * skinVertexB * skinWeight.y;",

      "gl_Position  = projectionMatrix * modelViewMatrix * skinned;",

    "#endif"

  ],"\n"),

  // MORPHING

  "morphtarget_pars_vertex": Strings.join([

    "#ifdef USE_MORPHTARGETS",

      "#ifndef USE_MORPHNORMALS",

      "uniform float morphTargetInfluences[ 8 ];",

      "#else",

      "uniform float morphTargetInfluences[ 4 ];",

      "#endif",

    "#endif"

  ],"\n"),

  "morphtarget_vertex": Strings.join([

    "#ifdef USE_MORPHTARGETS",

      "vec3 morphed = vec3( 0.0 );",
      "morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];",
      "morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];",
      "morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];",
      "morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];",

      "#ifndef USE_MORPHNORMALS",

      "morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];",
      "morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];",
      "morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];",
      "morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];",

      "#endif",

      "morphed += position;",

      "gl_Position = projectionMatrix * modelViewMatrix * vec4( morphed, 1.0 );",

    "#endif"

  ], "\n"),

  "default_vertex" : Strings.join([

    "#ifndef USE_MORPHTARGETS",
    "#ifndef USE_SKINNING",

      "gl_Position = projectionMatrix * mvPosition;",

    "#endif",
    "#endif"

  ],"\n"),

  "morphnormal_vertex": Strings.join([

    "#ifdef USE_MORPHNORMALS",

      "vec3 morphedNormal = vec3( 0.0 );",

      "morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];",
      "morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];",
      "morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];",
      "morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];",

      "morphedNormal += normal;",

    "#endif"

  ], "\n"),

  "skinnormal_vertex": Strings.join([

    "#ifdef USE_SKINNING",

      "mat4 skinMatrix = skinWeight.x * boneMatX;",
      "skinMatrix   += skinWeight.y * boneMatY;",

      "vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );",

    "#endif"

  ],"\n"),

  "defaultnormal_vertex": Strings.join([

    "vec3 transformedNormal;",

    "#ifdef USE_SKINNING",

      "transformedNormal = skinnedNormal.xyz;",

    "#endif",

    "#ifdef USE_MORPHNORMALS",

      "transformedNormal = morphedNormal;",

    "#endif",

    "#ifndef USE_MORPHNORMALS",
    "#ifndef USE_SKINNING",

      "transformedNormal = normal;",

    "#endif",
    "#endif",

    "transformedNormal = normalMatrix * transformedNormal;",

  ],"\n"),

  // SHADOW MAP

  // based on SpiderGL shadow map and Fabien Sanglard's GLSL shadow mapping examples
  //  http://spidergl.org/example.php?id=6
  //  http://fabiensanglard.net/shadowmapping

  "shadowmap_pars_fragment": Strings.join([

    "#ifdef USE_SHADOWMAP",

      "uniform sampler2D shadowMap[ MAX_SHADOWS ];",
      "uniform vec2 shadowMapSize[ MAX_SHADOWS ];",

      "uniform float shadowDarkness[ MAX_SHADOWS ];",
      "uniform float shadowBias[ MAX_SHADOWS ];",

      "varying vec4 vShadowCoord[ MAX_SHADOWS ];",

      "float unpackDepth( const in vec4 rgba_depth ) {",

        "const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );",
        "float depth = dot( rgba_depth, bit_shift );",
        "return depth;",

      "}",

    "#endif"

  ], "\n"),

  "shadowmap_fragment": Strings.join([

    "#ifdef USE_SHADOWMAP",

      "#ifdef SHADOWMAP_DEBUG",

        "vec3 frustumColors[3];",
        "frustumColors[0] = vec3( 1.0, 0.5, 0.0 );",
        "frustumColors[1] = vec3( 0.0, 1.0, 0.8 );",
        "frustumColors[2] = vec3( 0.0, 0.5, 1.0 );",

      "#endif",

      "#ifdef SHADOWMAP_CASCADE",

        "int inFrustumCount = 0;",

      "#endif",

      "float fDepth;",
      "vec3 shadowColor = vec3( 1.0 );",

      "for( int i = 0; i &lt; MAX_SHADOWS; i ++ ) {",

        "vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;",

        // "if ( something &amp;&amp; something )"     breaks ATI OpenGL shader compiler
        // "if ( all( something, something ) )"  using this instead

        "bvec4 inFrustumVec = bvec4 ( shadowCoord.x &gt;= 0.0, shadowCoord.x &lt;= 1.0, shadowCoord.y &gt;= 0.0, shadowCoord.y &lt;= 1.0 );",
        "bool inFrustum = all( inFrustumVec );",

        // don't shadow pixels outside of light frustum
        // use just first frustum (for cascades)
        // don't shadow pixels behind far plane of light frustum

        "#ifdef SHADOWMAP_CASCADE",

          "inFrustumCount += int( inFrustum );",
          "bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z &lt;= 1.0 );",

        "#else",

          "bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z &lt;= 1.0 );",

        "#endif",

        "bool frustumTest = all( frustumTestVec );",

        "if ( frustumTest ) {",

          "shadowCoord.z += shadowBias[ i ];",

          "#ifdef SHADOWMAP_SOFT",

            // Percentage-close filtering
            // (9 pixel kernel)
            // http://fabiensanglard.net/shadowmappingPCF/

            "float shadow = 0.0;",

            /*
            // nested loops breaks shader compiler / validator on some ATI cards when using OpenGL
            // must enroll loop manually

            "for ( float y = -1.25; y &lt;= 1.25; y += 1.25 )",
              "for ( float x = -1.25; x &lt;= 1.25; x += 1.25 ) {",

                "vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );",

                // doesn't seem to produce any noticeable visual difference compared to simple "texture2D" lookup
                //"vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );",

                "float fDepth = unpackDepth( rgbaDepth );",

                "if ( fDepth &lt; shadowCoord.z )",
                  "shadow += 1.0;",

            "}",

            "shadow /= 9.0;",

            */

            "const float shadowDelta = 1.0 / 9.0;",

            "float xPixelOffset = 1.0 / shadowMapSize[ i ].x;",
            "float yPixelOffset = 1.0 / shadowMapSize[ i ].y;",

            "float dx0 = -1.25 * xPixelOffset;",
            "float dy0 = -1.25 * yPixelOffset;",
            "float dx1 = 1.25 * xPixelOffset;",
            "float dy1 = 1.25 * yPixelOffset;",

            "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );",
            "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

            "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );",
            "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

            "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );",
            "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

            "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );",
            "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

            "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );",
            "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

            "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );",
            "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

            "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );",
            "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

            "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );",
            "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

            "fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );",
            "if ( fDepth &lt; shadowCoord.z ) shadow += shadowDelta;",

            "shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );",

          "#else",

            "vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );",
            "float fDepth = unpackDepth( rgbaDepth );",

            "if ( fDepth &lt; shadowCoord.z )",

              // spot with multiple shadows is darker

              "shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );",

              // spot with multiple shadows has the same color as single shadow spot

              //"shadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );",

          "#endif",

        "}",


        "#ifdef SHADOWMAP_DEBUG",

          "#ifdef SHADOWMAP_CASCADE",

            "if ( inFrustum &amp;&amp; inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];",

          "#else",

            "if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];",

          "#endif",

        "#endif",

      "}",

      "#ifdef GAMMA_OUTPUT",

        "shadowColor *= shadowColor;",

      "#endif",

      "gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;",

    "#endif"

  ], "\n"),

  "shadowmap_pars_vertex": Strings.join([

    "#ifdef USE_SHADOWMAP",

      "varying vec4 vShadowCoord[ MAX_SHADOWS ];",
      "uniform mat4 shadowMatrix[ MAX_SHADOWS ];",

    "#endif"

  ],"\n"),

  "shadowmap_vertex": Strings.join([

    "#ifdef USE_SHADOWMAP",

      "vec4 transformedPosition;",

      "#ifdef USE_MORPHTARGETS",

        "transformedPosition = modelMatrix * vec4( morphed, 1.0 );",

      "#else",
      "#ifdef USE_SKINNING",

        "transformedPosition = modelMatrix * skinned;",

      "#else",

        "transformedPosition = modelMatrix * vec4( position, 1.0 );",

      "#endif",
      "#endif",

      "for( int i = 0; i &lt; MAX_SHADOWS; i ++ ) {",

        "vShadowCoord[ i ] = shadowMatrix[ i ] * transformedPosition;",

      "}",

    "#endif"

  ], "\n"),

  // ALPHATEST

  "alphatest_fragment": Strings.join([

    "#ifdef ALPHATEST",

      "if ( gl_FragColor.a &lt; ALPHATEST ) discard;",

    "#endif"

  ],"\n"),

  // LINEAR SPACE

  "linear_to_gamma_fragment": Strings.join([

    "#ifdef GAMMA_OUTPUT",

      "gl_FragColor.xyz = sqrt( gl_FragColor.xyz );",

    "#endif"

  ],"\n"),
};
  }
  return __ShaderChunk;
}
</pre>
</div>
</div>
<div class="method"><h4 id="ShaderLib">
<span class="show-code">Code</span>
<strong>get ShaderLib</strong>() <a class="anchor-link" href="#ShaderLib"
              title="Permalink to get ShaderLib">#</a></h4>
<div class="doc">

<pre class="source">
get ShaderLib  {
  if (__ShaderLib == null) {
    __ShaderLib = {

'depth': {

    'uniforms': {

      "mNear": new Uniform( type: "f", value: 1.0 ),
      "mFar" :  new Uniform( type: "f", value: 2000.0 ),
      "opacity" :  new Uniform( type: "f", value: 1.0 )

    },

    'vertexShader': Strings.join([

      "void main() {",

        "gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",

      "}"

    ], "\n"),

    'fragmentShader': Strings.join([

      "uniform float mNear;",
      "uniform float mFar;",
      "uniform float opacity;",

      "void main() {",

        "float depth = gl_FragCoord.z / gl_FragCoord.w;",
        "float color = 1.0 - smoothstep( mNear, mFar, depth );",
        "gl_FragColor = vec4( vec3( color ), opacity );",

      "}"

    ], "\n")

  },

'normal': {

    'uniforms': {

      "opacity" : new Uniform( type: "f", value: 1.0 )

    },

    'vertexShader': Strings.join([

      "varying vec3 vNormal;",

      "void main() {",

        "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",
        "vNormal = normalMatrix * normal;",

        "gl_Position = projectionMatrix * mvPosition;",

      "}"

    ], "\n"),

    'fragmentShader': Strings.join([

      "uniform float opacity;",
      "varying vec3 vNormal;",

      "void main() {",

        "gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",

      "}"

    ], "\n")

  },

'basic': {
  'uniforms': UniformsUtils.merge( [UniformsLib[ "common" ],
                                    UniformsLib[ "fog" ],
                                    UniformsLib[ "shadowmap" ]] ),

  'vertexShader': Strings.join([

                 ShaderChunk[ "map_pars_vertex" ],
                 ShaderChunk[ "lightmap_pars_vertex" ],
                 ShaderChunk[ "envmap_pars_vertex" ],
                 ShaderChunk[ "color_pars_vertex" ],
                 ShaderChunk[ "skinning_pars_vertex" ],
                 ShaderChunk[ "morphtarget_pars_vertex" ],
                 ShaderChunk[ "shadowmap_pars_vertex" ],

                 "void main() {",

                 "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",

                 ShaderChunk[ "map_vertex" ],
                 ShaderChunk[ "lightmap_vertex" ],
                 ShaderChunk[ "envmap_vertex" ],
                 ShaderChunk[ "color_vertex" ],
                 ShaderChunk[ "skinbase_vertex" ],
                 ShaderChunk[ "skinning_vertex" ],
                 ShaderChunk[ "morphtarget_vertex" ],
                 ShaderChunk[ "default_vertex" ],
                ShaderChunk[ "shadowmap_vertex" ],

                 "}"

                 ], "\n"),

   'fragmentShader': Strings.join([

                    "uniform vec3 diffuse;",
                    "uniform float opacity;",

                    ShaderChunk[ "color_pars_fragment" ],
                    ShaderChunk[ "map_pars_fragment" ],
                    ShaderChunk[ "lightmap_pars_fragment" ],
                    ShaderChunk[ "envmap_pars_fragment" ],
                    ShaderChunk[ "fog_pars_fragment" ],
                    ShaderChunk[ "shadowmap_pars_fragment" ],
                    ShaderChunk[ "specularmap_pars_fragment" ],

                    "void main() {",

                    "gl_FragColor = vec4( diffuse, opacity );",

                    ShaderChunk[ "map_fragment" ],
                    ShaderChunk[ "alphatest_fragment" ],
                    ShaderChunk[ "specularmap_fragment" ],
                    ShaderChunk[ "lightmap_fragment" ],
                    ShaderChunk[ "color_fragment" ],
                    ShaderChunk[ "envmap_fragment" ],
                    ShaderChunk[ "shadowmap_fragment" ],

                    ShaderChunk[ "linear_to_gamma_fragment" ],

                    ShaderChunk[ "fog_fragment" ],

                    "}"

                    ],"\n")

  },

  'lambert': {

    'uniforms': UniformsUtils.merge( [

      UniformsLib[ "common" ],
      UniformsLib[ "fog" ],
      UniformsLib[ "lights" ],
      UniformsLib[ "shadowmap" ],

      {
        "ambient"  : new Uniform( type: "c", value: new Color( 0xffffff ) ),
        "emissive" : new Uniform( type: "c", value: new Color( 0x000000 ) ),
        "wrapRGB"  : new Uniform( type: "v3", value: new Vector3( 1, 1, 1 ) )
      }

    ] ),

    'vertexShader': Strings.join([

      "varying vec3 vLightFront;",

      "#ifdef DOUBLE_SIDED",

        "varying vec3 vLightBack;",

      "#endif",

      ShaderChunk[ "map_pars_vertex" ],
      ShaderChunk[ "lightmap_pars_vertex" ],
      ShaderChunk[ "envmap_pars_vertex" ],
      ShaderChunk[ "lights_lambert_pars_vertex" ],
      ShaderChunk[ "color_pars_vertex" ],
      ShaderChunk[ "skinning_pars_vertex" ],
      ShaderChunk[ "morphtarget_pars_vertex" ],
      ShaderChunk[ "shadowmap_pars_vertex" ],

      "void main() {",

        "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",

        ShaderChunk[ "map_vertex" ],
        ShaderChunk[ "lightmap_vertex" ],
        ShaderChunk[ "envmap_vertex" ],
        ShaderChunk[ "color_vertex" ],

        ShaderChunk[ "morphnormal_vertex" ],
        ShaderChunk[ "skinbase_vertex" ],
        ShaderChunk[ "skinnormal_vertex" ],
        ShaderChunk[ "defaultnormal_vertex" ],

        "#ifndef USE_ENVMAP",

          "vec4 mPosition = modelMatrix * vec4( position, 1.0 );",

        "#endif",

        ShaderChunk[ "lights_lambert_vertex" ],
        ShaderChunk[ "skinning_vertex" ],
        ShaderChunk[ "morphtarget_vertex" ],
        ShaderChunk[ "default_vertex" ],
        ShaderChunk[ "shadowmap_vertex" ],

      "}"

    ], "\n"),

    'fragmentShader': Strings.join([

      "uniform float opacity;",

      "varying vec3 vLightFront;",

      "#ifdef DOUBLE_SIDED",

        "varying vec3 vLightBack;",

      "#endif",

      ShaderChunk[ "color_pars_fragment" ],
      ShaderChunk[ "map_pars_fragment" ],
      ShaderChunk[ "lightmap_pars_fragment" ],
      ShaderChunk[ "envmap_pars_fragment" ],
      ShaderChunk[ "fog_pars_fragment" ],
      ShaderChunk[ "shadowmap_pars_fragment" ],
      ShaderChunk[ "specularmap_pars_fragment" ],

      "void main() {",

        "gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",

        ShaderChunk[ "map_fragment" ],
        ShaderChunk[ "alphatest_fragment" ],
        ShaderChunk[ "specularmap_fragment" ],

        "#ifdef DOUBLE_SIDED",

          //"float isFront = float( gl_FrontFacing );",
          //"gl_FragColor.xyz *= isFront * vLightFront + ( 1.0 - isFront ) * vLightBack;",

          "if ( gl_FrontFacing )",
            "gl_FragColor.xyz *= vLightFront;",
          "else",
            "gl_FragColor.xyz *= vLightBack;",

        "#else",

          "gl_FragColor.xyz *= vLightFront;",

        "#endif",

        ShaderChunk[ "lightmap_fragment" ],
        ShaderChunk[ "color_fragment" ],
        ShaderChunk[ "envmap_fragment" ],
        ShaderChunk[ "shadowmap_fragment" ],

        ShaderChunk[ "linear_to_gamma_fragment" ],

        ShaderChunk[ "fog_fragment" ],

      "}"

    ], "\n")

  },

  'phong': {

    'uniforms': UniformsUtils.merge( [

      UniformsLib[ "common" ],
      UniformsLib[ "bump" ],
      UniformsLib[ "fog" ],
      UniformsLib[ "lights" ],
      UniformsLib[ "shadowmap" ],

      {
        "ambient"  : new Uniform( type: "c", value: new Color( 0xffffff ) ),
        "emissive" : new Uniform( type: "c", value: new Color( 0x000000 ) ),
        "specular" : new Uniform( type: "c", value: new Color( 0x111111 ) ),
        "shininess": new Uniform( type: "f", value: 30 ),
        "wrapRGB"  : new Uniform( type: "v3", value: new Vector3( 1, 1, 1 ) )
      }

    ] ),

    'vertexShader': Strings.join([

      "varying vec3 vViewPosition;",
      "varying vec3 vNormal;",

      ShaderChunk[ "map_pars_vertex" ],
      ShaderChunk[ "lightmap_pars_vertex" ],
      ShaderChunk[ "envmap_pars_vertex" ],
      ShaderChunk[ "lights_phong_pars_vertex" ],
      ShaderChunk[ "color_pars_vertex" ],
      ShaderChunk[ "skinning_pars_vertex" ],
      ShaderChunk[ "morphtarget_pars_vertex" ],
      ShaderChunk[ "shadowmap_pars_vertex" ],

      "void main() {",

        "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",

        ShaderChunk[ "map_vertex" ],
        ShaderChunk[ "lightmap_vertex" ],
        ShaderChunk[ "envmap_vertex" ],
        ShaderChunk[ "color_vertex" ],

        "#ifndef USE_ENVMAP",

          "vec4 mPosition = modelMatrix * vec4( position, 1.0 );",

        "#endif",

        "vViewPosition = -mvPosition.xyz;",

        ShaderChunk[ "morphnormal_vertex" ],
        ShaderChunk[ "skinbase_vertex" ],
        ShaderChunk[ "skinnormal_vertex" ],
        ShaderChunk[ "defaultnormal_vertex" ],

        "vNormal = transformedNormal;",

        ShaderChunk[ "lights_phong_vertex" ],
        ShaderChunk[ "skinning_vertex" ],
        ShaderChunk[ "morphtarget_vertex" ],
        ShaderChunk[ "default_vertex" ],
        ShaderChunk[ "shadowmap_vertex" ],

      "}"

    ], "\n"),

    'fragmentShader': Strings.join([

      "uniform vec3 diffuse;",
      "uniform float opacity;",

      "uniform vec3 ambient;",
      "uniform vec3 emissive;",
      "uniform vec3 specular;",
      "uniform float shininess;",

      ShaderChunk[ "color_pars_fragment" ],
      ShaderChunk[ "map_pars_fragment" ],
      ShaderChunk[ "lightmap_pars_fragment" ],
      ShaderChunk[ "envmap_pars_fragment" ],
      ShaderChunk[ "fog_pars_fragment" ],
      ShaderChunk[ "lights_phong_pars_fragment" ],
      ShaderChunk[ "shadowmap_pars_fragment" ],
      ShaderChunk[ "bumpmap_pars_fragment" ],
      ShaderChunk[ "specularmap_pars_fragment" ],

      "void main() {",

        "gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",

        ShaderChunk[ "map_fragment" ],
        ShaderChunk[ "alphatest_fragment" ],
        ShaderChunk[ "specularmap_fragment" ],

        ShaderChunk[ "lights_phong_fragment" ],

        ShaderChunk[ "lightmap_fragment" ],
        ShaderChunk[ "color_fragment" ],
        ShaderChunk[ "envmap_fragment" ],
        ShaderChunk[ "shadowmap_fragment" ],

        ShaderChunk[ "linear_to_gamma_fragment" ],

        ShaderChunk[ "fog_fragment" ],

      "}"

    ], "\n")

  },

  'particle_basic': {

    'uniforms':  UniformsUtils.merge( [

      UniformsLib[ "particle" ],
      UniformsLib[ "shadowmap" ]

    ] ),

    'vertexShader': Strings.join([

      "uniform float size;",
      "uniform float scale;",

      ShaderChunk[ "color_pars_vertex" ],
      ShaderChunk[ "shadowmap_pars_vertex" ],

      "void main() {",

        ShaderChunk[ "color_vertex" ],

        "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",

        "#ifdef USE_SIZEATTENUATION",
          "gl_PointSize = size * ( scale / length( mvPosition.xyz ) );",
        "#else",
          "gl_PointSize = size;",
        "#endif",

        "gl_Position = projectionMatrix * mvPosition;",

        ShaderChunk[ "shadowmap_vertex" ],

      "}"

    ], "\n"),

    'fragmentShader': Strings.join([

      "uniform vec3 psColor;",
      "uniform float opacity;",

      ShaderChunk[ "color_pars_fragment" ],
      ShaderChunk[ "map_particle_pars_fragment" ],
      ShaderChunk[ "fog_pars_fragment" ],
      ShaderChunk[ "shadowmap_pars_fragment" ],

      "void main() {",

        "gl_FragColor = vec4( psColor, opacity );",

        ShaderChunk[ "map_particle_fragment" ],
        ShaderChunk[ "alphatest_fragment" ],
        ShaderChunk[ "color_fragment" ],
        ShaderChunk[ "shadowmap_fragment" ],
        ShaderChunk[ "fog_fragment" ],

      "}"

    ], "\n")

  },

  // Depth encoding into RGBA texture
  //  based on SpiderGL shadow map example
  //    http://spidergl.org/example.php?id=6
  //  originally from
  //    http://www.gamedev.net/topic/442138-packing-a-float-into-a-a8r8g8b8-texture-shader/page__whichpage__1%25EF%25BF%25BD
  //  see also here:
  //    http://aras-p.info/blog/2009/07/30/encoding-floats-to-rgba-the-final/

  'depthRGBA': {

    'uniforms': {},

    'vertexShader': Strings.join([

      ShaderChunk[ "skinning_pars_vertex" ],
      ShaderChunk[ "morphtarget_pars_vertex" ],

      "void main() {",

        "vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",

        ShaderChunk[ "skinbase_vertex" ],
        ShaderChunk[ "skinning_vertex" ],
        ShaderChunk[ "morphtarget_vertex" ],
        ShaderChunk[ "default_vertex" ],

      "}"

    ], "\n"),

    'fragmentShader': Strings.join([

      "vec4 pack_depth( const in float depth ) {",

        "const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );",
        "const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );",
        "vec4 res = fract( depth * bit_shift );",
        "res -= res.xxyz * bit_mask;",
        "return res;",

      "}",

      "void main() {",

        "gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );",

        //"gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z / gl_FragCoord.w );",
        //"float z = ( ( gl_FragCoord.z / gl_FragCoord.w ) - 3.0 ) / ( 4000.0 - 3.0 );",
        //"gl_FragData[ 0 ] = pack_depth( z );",
        //"gl_FragData[ 0 ] = vec4( z, z, z, 1.0 );",

      "}"

    ], "\n")

  }

    };
  }
  return __ShaderLib;
}
</pre>
</div>
</div>
<div class="method"><h4 id="UniformsLib">
<span class="show-code">Code</span>
<strong>get UniformsLib</strong>() <a class="anchor-link" href="#UniformsLib"
              title="Permalink to get UniformsLib">#</a></h4>
<div class="doc">

<pre class="source">
get UniformsLib {
  if (__UniformsLib == null) {
    __UniformsLib = {
  "common": {

    "diffuse" : new Uniform( type: "c", value: new Color( 0xeeeeee ) ),
    "opacity" : new Uniform( type: "f", value: 1.0 ),

    "map" : new Uniform( type: "t", value: 0, texture: null ),
    "offsetRepeat" : new Uniform( type: "v4", value: new Vector4( 0, 0, 1, 1 ) ),

    "lightMap" : new Uniform( type: "t", value: 2, texture: null ),
    "specularMap" : new Uniform( type: "t", value: 3, texture: null ),

    "envMap" : new Uniform( type: "t", value: 1, texture: null ),
    "flipEnvMap" : new Uniform( type: "f", value: -1 ),
    "useRefract" : new Uniform( type: "i", value: 0 ),
    "reflectivity" : new Uniform( type: "f", value: 1.0 ),
    "refractionRatio" : new Uniform( type: "f", value: 0.98 ),
    "combine" : new Uniform( type: "i", value: 0 ),

    "morphTargetInfluences" : new Uniform( type: "f", value: 0 )

  },

  "bump": {

    "bumpMap" : new Uniform( type: "t", value: 4, texture: null ),
    "bumpScale" : new Uniform( type: "f", value: 1 )

  },

  "fog" : {

    "fogDensity" : new Uniform( type: "f", value: 0.00025 ),
    "fogNear" : new Uniform( type: "f", value: 1 ),
    "fogFar" : new Uniform( type: "f", value: 2000 ),
    "fogColor" : new Uniform( type: "c", value: new Color( 0xffffff ) )

  },

  "lights": {

    "ambientLightColor" : new Uniform( type: "fv", value: [] ),

    "directionalLightDirection" : new Uniform( type: "fv", value: [] ),
    "directionalLightColor" : new Uniform( type: "fv", value: [] ),

    "pointLightColor" : new Uniform( type: "fv", value: [] ),
    "pointLightPosition" : new Uniform( type: "fv", value: [] ),
    "pointLightDistance" : new Uniform( type: "fv1", value: [] ),

    "spotLightColor" : new Uniform( type: "fv", value: [] ),
    "spotLightPosition" : new Uniform( type: "fv", value: [] ),
    "spotLightDirection" : new Uniform( type: "fv", value: [] ),
    "spotLightDistance" : new Uniform( type: "fv1", value: [] ),
    "spotLightAngle" : new Uniform( type: "fv1", value: [] ),
    "spotLightExponent" : new Uniform( type: "fv1", value: [] )

  },

  "particle": {

    "psColor" : new Uniform( type: "c", value: new Color( 0xeeeeee ) ),
    "opacity" : new Uniform( type: "f", value: 1.0 ),
    "size" : new Uniform( type: "f", value: 1.0 ),
    "scale" : new Uniform( type: "f", value: 1.0 ),
    "map" : new Uniform( type: "t", value: 0, texture: null ),

    "fogDensity" : new Uniform( type: "f", value: 0.00025 ),
    "fogNear" : new Uniform( type: "f", value: 1 ),
    "fogFar" : new Uniform( type: "f", value: 2000 ),
    "fogColor" : new Uniform( type: "c", value: new Color( 0xffffff ) )

  },

  "shadowmap": {

    "shadowMap": new Uniform( type: "tv", value: 6, texture: [] ),
    "shadowMapSize": new Uniform( type: "v2v", value: [] ),

    "shadowBias" : new Uniform( type: "fv1", value: [] ),
    "shadowDarkness": new Uniform( type: "fv1", value: [] ),

    "shadowMatrix" : new Uniform( type: "m4v", value: [] ),

  }
};
}
return __UniformsLib;
}
</pre>
</div>
</div>
<h3>Fields</h3>
<div class="field"><h4 id="LinePieces">
<span class="show-code">Code</span>
<a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>LinePieces</strong> <a class="anchor-link"
            href="#LinePieces"
            title="Permalink to LinePieces">#</a>
        </h4>
        <div class="doc">

<pre class="source">
const int LinePieces = 1;
</pre>
</div>
</div>
<div class="field"><h4 id="LineStrip">
<span class="show-code">Code</span>
<a href="http://api.dartlang.org/dart_core/int.html">int</a>         <strong>LineStrip</strong> <a class="anchor-link"
            href="#LineStrip"
            title="Permalink to LineStrip">#</a>
        </h4>
        <div class="doc">

<pre class="source">
const int LineStrip = 0;
</pre>
</div>
</div>
<h3>Classes</h3>
          <div class="type">
          <h4>
            <a href="ThreeD/AmbientLight.html"><strong>AmbientLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ArcCurve.html"><strong>ArcCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ArrowHelper.html"><strong>ArrowHelper</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/AxisHelper.html"><strong>AxisHelper</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Bone.html"><strong>Bone</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/BoundingBox.html"><strong>BoundingBox</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/BoundingSphere.html"><strong>BoundingSphere</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Buffer.html"><strong>Buffer</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/BufferGeometry.html"><strong>BufferGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Camera.html"><strong>Camera</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CanvasRenderData.html"><strong>CanvasRenderData</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CanvasRenderer.html"><strong>CanvasRenderer</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CircleGeometry.html"><strong>CircleGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ClosedSplineCurve3.html"><strong>ClosedSplineCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Color.html"><strong>Color</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ConvexGeometry.html"><strong>ConvexGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CubeGeomSides.html"><strong>CubeGeomSides</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CubeGeometry.html"><strong>CubeGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CubeReflectionMapping.html"><strong>CubeReflectionMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CubeRefractionMapping.html"><strong>CubeRefractionMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CubicBezierCurve.html"><strong>CubicBezierCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CubicBezierCurve3.html"><strong>CubicBezierCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Curve.html"><strong>Curve&lt;V&gt;</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Curve2D.html"><strong>Curve2D</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Curve3D.html"><strong>Curve3D</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CurvePath.html"><strong>CurvePath</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/CylinderGeometry.html"><strong>CylinderGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/DataTexture.html"><strong>DataTexture</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/DirectionalLight.html"><strong>DirectionalLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/EllipseCurve.html"><strong>EllipseCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/EventEmitter.html"><strong>EventEmitter</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/EventEmitterEvent.html"><strong>EventEmitterEvent</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ExtrudeGeometry.html"><strong>ExtrudeGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ExtrudeGeometryWorldUVGenerator.html"><strong>ExtrudeGeometryWorldUVGenerator</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Face3.html"><strong>Face3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Face4.html"><strong>Face4</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Fog.html"><strong>Fog</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/FogExp2.html"><strong>FogExp2</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/FogLinear.html"><strong>FogLinear</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Frustum.html"><strong>Frustum</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Geometry.html"><strong>Geometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IcosahedronGeometry.html"><strong>IcosahedronGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ImageLoader.html"><strong>ImageLoader</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ImmediateRenderObject.html"><strong>ImmediateRenderObject</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Intersect.html"><strong>Intersect</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/JSONLoader.html"><strong>JSONLoader</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/LOD.html"><strong>LOD</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/LatheGeometry.html"><strong>LatheGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/LensFlare.html"><strong>LensFlare</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Light.html"><strong>Light</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Line.html"><strong>Line</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/LineBasicMaterial.html"><strong>LineBasicMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/LineCurve.html"><strong>LineCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/LineCurve3.html"><strong>LineCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Loader.html"><strong>Loader</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Material.html"><strong>Material</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Matrix3.html"><strong>Matrix3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Matrix4.html"><strong>Matrix4</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Mesh.html"><strong>Mesh</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/MeshBasicMaterial.html"><strong>MeshBasicMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/MeshDepthMaterial.html"><strong>MeshDepthMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/MeshFaceMaterial.html"><strong>MeshFaceMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/MeshLambertMaterial.html"><strong>MeshLambertMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/MeshNormalMaterial.html"><strong>MeshNormalMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/MeshPhongMaterial.html"><strong>MeshPhongMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/MorphAnimMesh.html"><strong>MorphAnimMesh</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Object3D.html"><strong>Object3D</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/OctahedronGeometry.html"><strong>OctahedronGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/OrthographicCamera.html"><strong>OrthographicCamera</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ParametricGeometry.html"><strong>ParametricGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Particle.html"><strong>Particle</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ParticleBasicMaterial.html"><strong>ParticleBasicMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ParticleCanvasMaterial.html"><strong>ParticleCanvasMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ParticleSystem.html"><strong>ParticleSystem</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Path.html"><strong>Path</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/PathAction.html"><strong>PathAction</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/PerspectiveCamera.html"><strong>PerspectiveCamera</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/PlaneGeometry.html"><strong>PlaneGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/PointLight.html"><strong>PointLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/PolyhedronGeometry.html"><strong>PolyhedronGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/PolyhedronGeometryVertex.html"><strong>PolyhedronGeometryVertex</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Program.html"><strong>Program</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Projector.html"><strong>Projector</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ProjectorRenderData.html"><strong>ProjectorRenderData</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/QuadraticBezierCurve.html"><strong>QuadraticBezierCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/QuadraticBezierCurve3.html"><strong>QuadraticBezierCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Quaternion.html"><strong>Quaternion</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Ray.html"><strong>Ray</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Rectangle.html"><strong>Rectangle</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/RenderInts.html"><strong>RenderInts</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/RenderableFace3.html"><strong>RenderableFace3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/RenderableFace4.html"><strong>RenderableFace4</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/RenderableLine.html"><strong>RenderableLine</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/RenderableObject.html"><strong>RenderableObject</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/RenderableParticle.html"><strong>RenderableParticle</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/RenderableVertex.html"><strong>RenderableVertex</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Renderer.html"><strong>Renderer</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Ribbon.html"><strong>Ribbon</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Scene.html"><strong>Scene</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ShaderMaterial.html"><strong>ShaderMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Shape.html"><strong>Shape</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/SkinnedMesh.html"><strong>SkinnedMesh</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/SphereGeometry.html"><strong>SphereGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/SphericalReflectionMapping.html"><strong>SphericalReflectionMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/SphericalRefractionMapping.html"><strong>SphericalRefractionMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/SplineCurve.html"><strong>SplineCurve</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/SplineCurve3.html"><strong>SplineCurve3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/SpotLight.html"><strong>SpotLight</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Sprite.html"><strong>Sprite</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/SpriteAlignment.html"><strong>SpriteAlignment</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/TetrahedronGeometry.html"><strong>TetrahedronGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/TextGeometry.html"><strong>TextGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Texture.html"><strong>Texture</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Three.html"><strong>Three</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/TorusGeometry.html"><strong>TorusGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/TorusKnotGeometry.html"><strong>TorusKnotGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/TubeGeometry.html"><strong>TubeGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/UV.html"><strong>UV</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/UVMapping.html"><strong>UVMapping</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Uniform.html"><strong>Uniform</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/UniformsUtils.html"><strong>UniformsUtils</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Vector2.html"><strong>Vector2</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Vector3.html"><strong>Vector3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Vector4.html"><strong>Vector4</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/Vertex.html"><strong>Vertex</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLCamera.html"><strong>WebGLCamera</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLGeometry.html"><strong>WebGLGeometry</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLMaterial.html"><strong>WebGLMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLObject.html"><strong>WebGLObject</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLRenderTarget.html"><strong>WebGLRenderTarget</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLRenderTargetCube.html"><strong>WebGLRenderTargetCube</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLRenderer.html"><strong>WebGLRenderer</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLRendererInfo.html"><strong>WebGLRendererInfo</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLRendererMemoryInfo.html"><strong>WebGLRendererMemoryInfo</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/WebGLRendererRenderInfo.html"><strong>WebGLRendererRenderInfo</strong></a>
          </h4>
          </div>
          
<h3>Interfaces</h3>
          <div class="type">
          <h4>
            <a href="ThreeD/IFace3.html"><strong>IFace3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IFace4.html"><strong>IFace4</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IMaterial.html"><strong>IMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IParticleMaterial.html"><strong>IParticleMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IRenderableFace3.html"><strong>IRenderableFace3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IRenderableFace4.html"><strong>IRenderableFace4</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IRenderableObj.html"><strong>IRenderableObj</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ITextureMapMaterial.html"><strong>ITextureMapMaterial</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IVector2.html"><strong>IVector2</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IVector3.html"><strong>IVector3</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/IVector4.html"><strong>IVector4</strong></a>
          </h4>
          </div>
          
<h3>Typedefs</h3>
          <div class="type">
          <h4>
            <a href="ThreeD/LoadCompleteCallback.html"><strong>LoadCompleteCallback</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/LoadProgressCallback.html"><strong>LoadProgressCallback</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/LoadStartCallback.html"><strong>LoadStartCallback</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/LoadedCallback.html"><strong>LoadedCallback</strong></a>
          </h4>
          </div>
          
          <div class="type">
          <h4>
            <a href="ThreeD/ParticleCanvasMaterialProgram.html"><strong>ParticleCanvasMaterialProgram</strong></a>
          </h4>
          </div>
          
        </div>
        <div class="clear"></div>
        </div>
        
        <div class="footer">
          <div>This page was generated at 2012-10-01 16:04:44.860</div>
        </div>
        <script async src="client-static.js"></script>
        </body></html>
        
